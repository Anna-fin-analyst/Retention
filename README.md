# Retention
Retention – один из самых важных показателей в компании. Напишем функцию, которая будет считать retention игроков (по дням от даты регистрации игрока).
#### Контекст
</h4> Компания разрабатывает мобильные игры. В одной из игр каждый месяц проводятся тематические события, ограниченные по времени. В них игроки могут получить дополнительные бонусы. Для получения награды требуется пройти ряд уровней за определенное время. После проведения очередного события мы хотим оценить результаты. Поступил запрос от менеджера посчитать retention игроков по дням.</h4>

#### Структура данных: 
</h4> problem1-reg_data.csv – данные о времени регистрации

|reg_ts	    |uid|
|-----------|---|
|906166566	|2  |
|906344325	|3  |
|906686169	|4  |
|906893386	|5  |

</h4> auth_data.csv – данные о времени захода пользователей в игру

|auth_ts	  |uid|
|-----------|---|
|906166566	|2  |
|924422172	|2  |
|937374732	|2  |
|947425117	|2  |

#### Цель проекта:
</h4> Нам нужна функция для расчета Retention по дням. 
Retention подходит для оценки способности события поддерживать интерес игроков с течением времени. В контексте оценки результатов события нас интересует только Классический retention по дням. Метрика покажет, какой процент уникальных игроков вернулось в игру с момента старта события и до момента окончания события.

#### Инструменты для работы:
</h4> Python (Pandas, datetime, seaborn, matplotlib);

#### Были достигнуты результаты:
</h4> С помощью получившейся функции мы можем выбрать период времени, за который нас интересует Retention и посмотреть на процент возврата пользователей за выбранный период. В данном случае мы смогли измерить интерес аудитории к интересующему нас событию и сравнить с другими событиями.

#### План реализации:
1. Загрузка необходимых библиотек
2. Загрузка и предобработка данных о времени регистрации
3. Загрузка и предобработка данных о времени захода пользователей в игру
4. Объединение датасетов
5. Пишем функцию для расчета классического ретеншена:
- В функцию будем передавать аргументы:
    - df - получившийся датафрейм (объединение информации о времени регистрации и о времени захода пользователей в игру, с преобразованными типами данных)
    - first - дата начала периода когорт (вводим в формате '2018-01-01')
    - last - дата окончания периода когорт (вводим в формате '2018-01-31')
- Этапы написания функции:
    * Сортируем датафрейм по заданному интервалу дат
    * Считаем промежуток времени от даты регистрации в днях, через который каждый пользователь заходил в игру.
    * Рассматриваем когорты по дням, поэтому сгруппируем игроков по дате регистрации, вторая группировка - по периоду активности игрока для того, чтобы мы понимали, как долго каждый игрок был активен с момента регистрации, и посчитаем количество активных игроков
    * Формируем сводную таблицу
    * Считаем Classic Retention Rate, метрику, которая показывает процент пользователей, вернувшихся в продукт в конкретный день N
    * Рисуем тепловую карту
